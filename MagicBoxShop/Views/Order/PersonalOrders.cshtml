@model IEnumerable<MagicBoxShop.Models.Order>

@{
    ViewBag.Title = "Заказ";
}

@if(Model.Count() > 0)
{
        <ul>
    @foreach (var item in Model) {
        <li>
            <p>
            <div class="display-label">
              <strong>Заказ № @item.OrderId</strong>  
            </div>
            <div class="display-label">
                Осуществлен: @item.OrderDate
            </div>
            <div class="display-label">
                Статус заказа: @item.Status
            </div>
            <div class="display-label">
                &nbsp;
            </div>
            <table>
                <tr>
                    <th>
                        Товар
                    </th>
                    <th>
                        Количество
                    </th>
                    <th>
                        Цена за единицу
                    </th>
                </tr>

                @foreach (var item2 in item.OrderDetails) {
                    <tr>
                        <td>
                            <a href="@Url.Action("Details", "Store", new { id = item2.Product.ProductId })" class="mp-back"> @item2.Product.Name</a>
            
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item2.Quantity)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item2.UnitPrice) грн.
                        </td>
                    </tr>
                }
                <tr>		
                    <td colspan="2" >Всего</td>
                    <td>@item.Total  грн.</td>
                </tr>	

            </table>
            </p>
        </li>
    
    }
  </ul>
}else
{
<text>К сожалению, Вы у нас еще ничего не приобретали. Возможно пора это </text>   @Html.ActionLink("исправить?", "Index", "Home")
}
